---
import { Image } from "astro:assets";
import H1 from "./H1.astro";
import RafaPic from "./Rafa-pic.astro";
import ButtonToggleHeader from "./ButtonToggleHeader.tsx";
const { headerIndex, class: className, ...rest } = Astro.props;
const { pathname } = Astro.url;

const navObj = [
  {
    path: "/",
    navTitle: "Home",
    navSubtitle: null,
  },
  {
    path: "/roadmap",
    navTitle: "Roadmap & Projects",
    navSubtitle: "to INFINITY and Beyond!",
  },
  {
    path: "/a3",
    navTitle: "Works at A3",
    navSubtitle: "Frontend",
  },
  {
    path: "/project05",
    navTitle: "Agendae+",
    navSubtitle: "System",
  },
  {
    path: "/project04",
    navTitle: "Medical Records",
    navSubtitle: "Coder",
    navTech: "Next.js",
  },
  {
    path: "/project03",
    navTitle: "Music Store",
    navSubtitle: "Coder",
    navTech: "React.js",
  },
  {
    path: "/project02",
    navTitle: "Bakery LP",
    navSubtitle: "Coder",
    navTech: "HTML/SASS/JS",
  },
  {
    path: "/project01",
    navTitle: "Dance Academy LP",
    navSubtitle: "Coder",
    navTech: "HTML/CSS",
  },
  {
    path: "/project00",
    navTitle: "Portfolio Old",
    navSubtitle: "Coder",
    navTech: "HTML/CSS/JS",
  },
];
---

<style>
  .star-container {
    height: fit-content;
    position: relative;
    width: 40px;
    height: 100%;
  }

  .star-bar {
    height: 1px;
    width: 100%;
    background-color: white;
    position: absolute;
    top: 0;
    bottom: 0;
    margin: auto;
  }

  .fa-diamond {
    display: block;
    position: relative;
    top: 0;
    bottom: 0;
    margin: auto;
    font-size: 12px;
    transition: 1s ease;
  }

  .big-bar {
    height: 2px;
  }

  .big-diamond {
    width: fit-content;
    top: 0;
    bottom: 0;
    right: -12px;
    margin-right: 0;
    font-size: 20px;
    transition: 1s ease;
  }

  .li-projectTitle {
    line-height: 1;
    padding-top: 8px;
  }
  .li-year,
  .li-role {
    font-size: 12px;
    line-height: 1;
    display: block;
    padding-bottom: 0.25rem;
  }
  .li-year {
    text-decoration: underline;
    padding-top: 1.5rem;
  }

</style>

<header class={className} {...rest} id="myHeader">
  <!-- <p class="absolute bottom-0">powered by Astro</p> -->
  <Image
    src={headerIndex
      ? "/Images/stars-topleft-index.svg"
      : "/Images/stars-topleft.svg"}
    width={220}
    height={40}
    format="svg"
    alt="stars bg"
    class="fixed top-8 z-10"
  />
  <div
    class="relative col-start-2 col-span-full flex flex-col justify-between h-full pt-24 pr-4 max-lg:pt-0 max-lg:col-start-2 max-lg:col-span-10"
  >
    <img
      src={headerIndex
        ? "/Images/stars-bottomleft-index.svg"
        : "/Images/stars-bottomleft.svg"}
      width={440}
      height={450}
      alt="stars bg"
      class="absolute bottom-0 -left-12 z-10"
    />

    {
      headerIndex ? (
        <>
          <section class="self-start">
            <H1 text="HIRASHIKI RAFAEL" index={true} />
            <p>Casual Dancer</p>
          </section>

          <section class="text-2xl max-lg:text-lg max-md:text-lg font-bold">
            <h2 class="pt-4 pb-4">⯁ Web Frontend Developer (Junior)</h2>
            <h3 class="pb-4">❍ System Developer (graduating)</h3>
          </section>

          <section class="">
            <p class="pb-6 text-xl max-lg:text-base max-md:text-sm ">
              From Brazil, Based in Tokyo. <br />
              Passionate for connecting stars, understanding problems, finding
              solutions, upgrading performances and flows.
            </p>
            <p>Special interest in health, environment and nature fields</p>
          </section>

          <nav class="self-end justify-self-end relative z-50 pb-24">
            <ul>
              <li class="">
                <a
                  href="/roadmap"
                  class="text-4xl max-xl:text-3xl max-lg:2xl font-bold flex flex-nowrap justify-center items-center gap-4 text-right"
                >
                  <p class="underline">RoadMap & Projects</p>
                  <div class="star-container">
                    <div class="star-bar" />
                    <i class="fa-solid fa-diamond" />
                  </div>
                </a>
                <div class="relative z-50 flex justify-end gap-4 pr-16">
                  <a href="https://www.behance.net/rafael-hiro" target="_blank">
                    Behance
                  </a>
                  <a
                    href="https://www.artstation.com/hirashiki"
                    target="_blank"
                  >
                    Artstation
                  </a>
                </div>
              </li>
            </ul>
          </nav>
        </>
      ) : (
        <>
          <ButtonToggleHeader  client:only/>
          <p class="hidden absolute bottom-24 -right-5 clr-text z-50 text-base max-lg:flex flex-col items-center justify-center"><span>M</span><span></span>E</span><span>N</span> <span>U</span></p>
          <RafaPic class=" w-4/6 m-auto max-lg:w-6/6" />
          <H1 text="HIRASHIKI RAFAEL" index={false} />
          <nav class="pb-16 relative z-50  max-xl:pb-20">
            <ul>
              {navObj.map((ele) => (
                <li>
                  {ele.path === "/project05" && <p class="li-year">2023</p>}
                  {ele.path === "/project03" && <p class="li-year">2022</p>}
                  <a
                    href={ele.path}
                    class="text-xl max-xl:text-lg max-lg:text-base font-bold flex flex-nowrap justify-between items-center gap-4"
                  >
                    <p class="flex flex-col items-start">
                      <span class="li-projectTitle">{ele.navTitle}</span>
                      <span class="li-role">{ele.navSubtitle} </span>
                    </p>
                    <div class="star-container">
                      <div
                        class={`star-bar ${
                          pathname === ele.path && "big-bar"
                        } `}
                      />
                      <i
                        class={`fa-solid fa-diamond ${
                          pathname === ele.path && "big-diamond"
                        } `}
                      />
                    </div>
                  </a>
                </li>
              ))}
            </ul>
          </nav>
        </>
      )
    }
  </div>
</header>
