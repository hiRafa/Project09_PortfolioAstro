---
import { Image } from "astro:assets";
import H1 from "./H1.astro";
import RafaPic from "./Rafa-pic.astro";

const { headerIndex, class: className, ...rest } = Astro.props;
const { pathname } = Astro.url;

const navObj = [
  {
    path: "/",
    navTitle: "Home",
    navSubtitle: null,
  },
  {
    path: "/roadmap",
    navTitle: "Roadmap & Projects",
    navSubtitle: "to INFINITY and Beyond!",
  },
  {
    path: "/project05",
    navTitle: "Agendae+",
    navSubtitle: "System Dev",
  },
  {
    path: "/project04",
    navTitle: "Medical Records",
    navSubtitle: "Coder Next.js",
  },
  {
    path: "/project03",
    navTitle: "Music Store",
    navSubtitle: "Coder React.js",
  },
  {
    path: "/project02",
    navTitle: "Bakery LP",
    navSubtitle: "Coder HTML/SASS/JS",
  },
  {
    path: "/project01",
    navTitle: "Dance Academy LP",
    navSubtitle: "Coder HTML/CSS",
  },
  {
    path: "/project00",
    navTitle: "Portfolio Old",
    navSubtitle: "Coder HTML/CSS/JS",
  },
];
---

<style>
  .star-container {
    height: fit-content;
    position: relative;
    width: 50px;
    height: 100%;
  }

  .star-bar {
    height: 2px;
    width: 100%;
    background-color: white;
    position: absolute;
    top: 0;
    bottom: 0;
    margin: auto;
  }

  .fa-diamond {
    display: block;
    position: relative;
    top: 0;
    bottom: 0;
    margin: auto;
    font-size: 12px;
    transition: 1s ease;
  }

  .big-diamond {
    width: fit-content;
    top: 0;
    bottom: 0;
    right: -12px;
    margin-right: 0;
    font-size: 20px;
    transition: 1s ease;
  }

  .li-year,
  .li-role {
    font-size: 12px;
    line-height: 1.8;
    display: block;
  }
</style>

<header class={className} {...rest}>
  <H1 text="HIRASHIKI RAFAEL" index={false} />
  <!-- <p class="absolute bottom-0">powered by Astro</p> -->
  <Image
    src={headerIndex
      ? "/Images/stars-topleft-index.svg"
      : "/Images/stars-topleft.svg"}
    width={220}
    height={40}
    format="svg"
    alt="stars bg"
    class="fixed top-8 z-10"
  />
  <div
    class="relative col-start-2 col-span-4 flex flex-col justify-between h-full pt-24 pr-4"
  >
    <Image
      src={headerIndex
        ? "/Images/stars-bottomleft-index.svg"
        : "/Images/stars-bottomleft.svg"}
      width={440}
      height={450}
      format="svg"
      alt="stars bg"
      class="absolute bottom-0 -left-12 z-10"
    />

    {
      headerIndex ? (
        <>
          <section class="self-start">
            <H1 text="HIRASHIKI RAFAEL" index={true} />
            <p>Casual Dancer</p>
          </section>

          <section class="">
            <h2 class="text-3xl font-bold min-xl:text-2xl">
              ⯁ Web Frontend Developer (Junior)
            </h2>
            <br />
            <h3 class="text-3xl font-bold min-xl:text-2xl">
              ❍ System Developer (graduating)
            </h3>
          </section>

          <section class="">
            <p class="pb-6 text-xl min-xl:text-lg">
              From Brazil, Based in Tokyo. <br />
              Passionate for connecting stars, understanding problems, finding
              solutions, upgrading performances and flows.
            </p>
            <p>Special interest in health, environment and nature fields</p>
          </section>

          <nav class="self-end justify-self-end relative z-50 pb-24">
            <ul>
              <li class="">
                <a
                  href="/roadmap"
                  class="text-4xl min-xl:text-3xl font-bold flex flex-nowrap justify-center items-center gap-4"
                >
                  <p class="underline">RoadMap & Projects</p>
                  <p class="text-3xl">⟢</p>
                </a>
              </li>
            </ul>
          </nav>
        </>
      ) : (
        <>
          <RafaPic class=" w-4/6 m-auto" />
          <nav class="pb-24 relative z-50">
            <ul>
              {navObj.map((ele) => (
                <li>
                  {ele.path === "/project05" && <p class="li-role">2023</p>}
                  {ele.path === "/project03" && <p class="li-role">2022</p>}
                  <a
                    href={ele.path}
                    class="text-xl min-xl:text-xl font-bold flex flex-nowrap justify-between items-center gap-4"
                  >
                    <p class="flex gap-1 items-end">
                      {ele.navTitle}{" "}
                      <span class="li-role">{ele.navSubtitle} </span>
                    </p>
                    <div class="star-container">
                      <div class="star-bar" />
                      <i
                        class={`fa-solid fa-diamond ${
                          pathname === ele.path && "big-diamond"
                        } `}
                      />
                    </div>
                  </a>
                </li>
              ))}
            </ul>
          </nav>
        </>
      )
    }
  </div>
</header>
